<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cadastro de Técnico</title>
    <!--css menu-->
    <link rel="stylesheet" href="menu.css"> 
    <!--css formulário-->
    <link rel="stylesheet" href="formulario.css">
    <!--css header-->
    <link rel="stylesheet" href="header.css">
</head>
    <!--script busca cep-->
    <script type="text/javascript" >
    
    function limpa_formulário_cep() {
        //Limpa valores do formulário de cep.
        document.getElementById('rua').value=("");
        document.getElementById('bairro').value=("");
        document.getElementById('cidade').value=("");
        document.getElementById('estado').value=("");
    }

    function meu_callback(conteudo) {
        if (!("erro" in conteudo)) {
            //Atualiza os campos com os valores.
            document.getElementById('rua').value=(conteudo.logradouro);
            document.getElementById('bairro').value=(conteudo.bairro);
            document.getElementById('cidade').value=(conteudo.localidade);
            document.getElementById('estado').value=(conteudo.uf);
        } //end if.
        else {
            //CEP não Encontrado.
            limpa_formulário_cep();
            alert("CEP não encontrado.");
        }
    }
        
    function pesquisacep(valor) {

        //Nova variável "cep" somente com dígitos.
        var cep = valor.replace(/\D/g, '');

        //Verifica se campo cep possui valor informado.
        if (cep != "") {

            //Expressão regular para validar o CEP.
            var validacep = /^[0-9]{8}$/;

            //Valida o formato do CEP.
            if(validacep.test(cep)) {

                //Preenche os campos com "..." enquanto consulta webservice.
                document.getElementById('rua').value="...";
                document.getElementById('bairro').value="...";
                document.getElementById('cidade').value="...";
                document.getElementById('estado').value="...";

                //Cria um elemento javascript.
                var script = document.createElement('script');

                //Sincroniza com o callback.
                script.src = 'https://viacep.com.br/ws/'+ cep + '/json/?callback=meu_callback';

                //Insere script no documento e carrega o conteúdo.
                document.body.appendChild(script);

            } //end if.
            else {
                //cep é inválido.
                limpa_formulário_cep();
                alert("Formato de CEP inválido.");
            }
        } //end if.
        else {
            //cep sem valor, limpa formulário.
            limpa_formulário_cep();
        }
    };

    </script>
    <!--fim script busca cep-->

<body>

    <header style="padding: 10px">
        <div style="float: left; background-color:darkred; color:snow; padding:5px">
        <h1>TELNET</h1>
        </div>
        <!--menu-->
        <nav id="menu">
            <ol> 
                <li><a href="listaTecnicos.php">Listar técnicos</a></li>
            </ol>
        </nav>
        <!--fim menu-->
    </header>

    <div style="padding: 60px">
        <!--div transição-->
    </div>

    <div id="formulario">
    <!--div do formulario-->
    
        <form action="inserirTecnico.php" method="POST"> 
        <!--inicio formulario-->
            <h1>CADASTRAR NOVO TÉCNICO</h1>
            <fieldset>                
                <legend>Dados Pessoais</legend> <!--seção de dados pessoais-->
                <!--início tabela dados pessoais-->
                <table cellspacing="10"> 
                <tr>
                    <td>
                    <label for="nome">Nome Completo: </label>
                    </td>
                    <td align="left">
                    <input type="text" name="nome" size="40"> <!--nome-->
                    </td>
                </tr>
                <tr>
                    <td>
                    <label>Nascimento: </label> 
                    </td>
                    <td align="left">
                    <input type="date" name="dataNascimento"> <!--data de nascimento-->
                    </td>
                </tr>
                <tr>
                    <td>
                    <label for="rg">RG: </label> 
                    </td>
                    <td align="left">
                    <input type="text" name="rg" size="12" maxlength="12"> <!--RG-->
                    </td>
                </tr>
                <tr>
                    <td>
                    <label>CPF:</label> 
                    </td>
                    <td align="left">
                    <input type="text" name="cpf" size="12" maxlength="12"> <!--CPF-->
                    </td>
                </tr>
                </table>
                <!--fim tabela dados pessoais-->
            </fieldset>
            <br />
            <fieldset>
                <legend>Dados de Endereço</legend> <!--seção de endereço-->
                <!--início tabela endereço-->   
                <table cellspacing="10">                 
                        <td>
                            <label for="cep" strong>Insira o CEP:</label> 
                        </td>
                        <td align="left">
                            <!--cep quando inserido busca o resto das informações-->
                            <input type="text" name="cep" id ="cep" size="10" maxlength="9" onblur="pesquisacep(this.value);"/> 
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="rua">Rua:</label> 
                        </td>
                        <td align="left">
                            <input type="text" name="rua" id="rua" size="30"> <!--rua-->
                        </td>
                        <td>
                            <label for="numero">Numero:</label> 
                        </td>
                        <td align="left">
                            <input type="text" name="numero" size="5" maxlength="5"> <!--número-->
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="complemento">Complemento:</label> 
                        </td>
                        <td align="left">
                            <input type="text" name="complemento" size="10" maxlength="10"> <!--complemento-->
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="bairro">Bairro: </label> 
                        </td>
                        <td align="left">
                            <input type="text" name="bairro" id="bairro" size="30"> <!--bairro-->
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="estado">Estado:</label> 
                        </td>
                        <td align="left">
                            <input type="text" name="estado" id="estado" size="2">  <!--estado-->
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="cidade">Cidade: </label> 
                        </td>
                        <td align="left">
                            <input type="text" name="cidade" id="cidade" size="30"> <!--cidade-->
                        </td>
                    </tr>
                </table>
                <!--fim tabela endereço-->
            </fieldset>
            <br/>
            <fieldset>
                <legend>Dados de login</legend> <!--seção de dados de login-->
                <!--início tabela login-->
                <table cellspacing="10">
                    <tr>
                        <td>
                            <label for="email">E-mail: </label> 
                        </td>
                        <td align="left">
                            <input type="text" name="email" size="31" maxlength="35"> <!--email--> 
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="login">Login de usuário: </label> 
                        </td>
                        <td align="left">
                            <input type="text" name="login"> <!--login-->
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="senha">Senha: </label>
                        </td>
                        <td align="left">
                            <input type="password" name="senha" maxlength="12" size="10"> <!--senha-->
                        </td>
                    </tr>
                </table>
                <!--fim tabela login-->
            </fieldset>
            <br />
            <input type="submit" value="Enviar"> <!--enviar-->
            <input type="reset" value="Limpar"> <!--limpar-->
        </form>
        <!--fim formulario-->
    </div> 
    <!--fim div do formulario-->
    
</body>
</html>